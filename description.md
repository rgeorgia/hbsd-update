# hbsd-update Description

The first thing that is done is a sanity check (check_sanity). Then a jail name check (check_jailname). If the return code from check_jailname is greater than 0 (zero), the script exits with status code of 1. Next the ``net_flag`` is set to either -4 or -6. Next `do_report_version` is called. If it returns a value greater than 0, the `report_version` is called. Next, if the `local_kernel` variable has a value, it's assigned to the `kernel` variable. Next there is a check to verify that the `mount point` exists, if not the `cleanup` function is called and the script exits with a status code of 1. Next the existence of the `tmpdir` is checked, if it does exist, the `get_tmpdir` function is called. Now, the `get_version` function is called. If the returned code is greater than 0, a check to verify the existence of the `tmpdir/resolver.txt` file is done. Since the return code is greater than 1, `cleanup` is called and the script exits with status code of 1. Next the `downloadonly` flag is set. If it is the `fetch_update` function is called and the script exits with status code of 0. The `check_version` function is called. If the return code is greater than 1, cleanup and exit with status code of 1. LEFT off at line 1325.
